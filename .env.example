DATABASE_URL=postgresql+psycopg://videoroll:videoroll@postgres:5432/videoroll
REDIS_URL=redis://redis:6379/0

S3_ENDPOINT_URL=http://minio:9000
S3_ACCESS_KEY_ID=videoroll
S3_SECRET_ACCESS_KEY=videorollsecret
S3_BUCKET=videoroll
S3_REGION_NAME=us-east-1
S3_USE_SSL=false

SUBTITLE_SERVICE_URL=http://localhost:8000/subtitle-service
YOUTUBE_INGEST_URL=http://localhost:8000/youtube-ingest
BILIBILI_PUBLISHER_URL=http://localhost:8000/bilibili-publisher

SUBTITLE_ASR_ENGINE=faster-whisper
SUBTITLE_WHISPER_MODEL=tiny
SUBTITLE_WHISPER_DEVICE=cpu
SUBTITLE_WHISPER_COMPUTE_TYPE=int8
SUBTITLE_WHISPER_MODEL_DIR=/models/whisper
FFMPEG_PATH=ffmpeg
WORK_DIR=/tmp/videoroll

YOUTUBE_USER_AGENT=videoroll/0.1

# Optional: YouTube downloader (yt-dlp)
# - Put a Netscape cookies.txt at ./data/secrets/youtube_cookies.txt (mounted to /secrets)
# - Then set:
# YOUTUBE_COOKIE_FILE=/secrets/youtube_cookies.txt
# Optional proxy for yt-dlp (http/socks5):
# YOUTUBE_PROXY=http://host.docker.internal:7890
# Advanced: yt-dlp format string / extractor args
# YOUTUBE_YTDLP_FORMAT=bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best
# YOUTUBE_EXTRACTOR_ARGS_JSON={"youtube":{"player_client":["tv","android_sdkless","web"]}}
BILIBILI_PUBLISH_MODE=mock
# Bilibili uploads are rate-limited; keep publish worker single-threaded by default.
CELERY_PUB_CONCURRENCY=1

# Build with real ASR (faster-whisper)
INSTALL_ASR=1

# Optional: allow browser origins (comma-separated)
CORS_ALLOW_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
